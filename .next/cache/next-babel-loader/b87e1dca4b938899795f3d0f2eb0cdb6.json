{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mdp79\\\\Desktop\\\\projects\\\\giphtionary\\\\pages\\\\login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState } from 'react';\nimport Router from 'next/router';\nimport Layout from '../components/layout';\n\nconst signin = async (email, password) => {\n  const response = await fetch('/api/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n\n  if (response.status !== 200) {\n    throw new Error(await response.text());\n  }\n\n  Router.push('/profile');\n};\n\nfunction Login() {\n  const {\n    0: userData,\n    1: setUserData\n  } = useState({\n    email: '',\n    password: '',\n    error: ''\n  });\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n      error: ''\n    }));\n    const email = userData.email;\n    const password = userData.password;\n\n    try {\n      await signin(email, password);\n    } catch (error) {\n      console.error(error);\n      setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        error: error.message\n      }));\n    }\n  }\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4043978186\" + \" \" + \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"Email\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    value: userData.email,\n    onChange: event => setUserData(Object.assign({}, userData, {\n      email: event.target.value\n    })),\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: userData.password,\n    onChange: event => setUserData(Object.assign({}, userData, {\n      password: event.target.value\n    })),\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-4043978186\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Login\"), userData.error && __jsx(\"p\", {\n    className: \"jsx-4043978186\" + \" \" + \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 30\n    }\n  }, \"Error: \", userData.error))), __jsx(_JSXStyle, {\n    id: \"4043978186\",\n    __self: this\n  }, \".login.jsx-4043978186{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-4043978186{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-4043978186{font-weight:600;}input.jsx-4043978186{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-4043978186{margin:0.5rem 0 0;color:brown;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWRwNzlcXERlc2t0b3BcXHByb2plY3RzXFxnaXBodGlvbmFyeVxccGFnZXNcXGxvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRFa0IsQUFHMkIsQUFRSCxBQUtHLEFBSUosQUFPTSxZQU5HLElBakJQLEFBYWhCLEVBV2MsWUF2QkMsQUF3QmYsR0FQd0IsVUFoQkEsWUFpQkosVUFoQkEsUUFpQnBCLENBWm1CLFNBSm5CLHNEQUtBIiwiZmlsZSI6IkM6XFxVc2Vyc1xcTWRwNzlcXERlc2t0b3BcXHByb2plY3RzXFxnaXBodGlvbmFyeVxccGFnZXNcXGxvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0J1xuXG5jb25zdCBzaWduaW4gPSBhc3luYyAoZW1haWwsIHBhc3N3b3JkKSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbG9naW4nLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBlbWFpbCwgcGFzc3dvcmQgfSksXG4gIH0pXG5cbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSlcbiAgfVxuXG4gIFJvdXRlci5wdXNoKCcvcHJvZmlsZScpXG59XG5cbmZ1bmN0aW9uIExvZ2luKCkge1xuICBjb25zdCBbdXNlckRhdGEsIHNldFVzZXJEYXRhXSA9IHVzZVN0YXRlKHtcbiAgICBlbWFpbDogJycsXG4gICAgcGFzc3dvcmQ6ICcnLFxuICAgIGVycm9yOiAnJyxcbiAgfSlcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgc2V0VXNlckRhdGEoeyAuLi51c2VyRGF0YSwgZXJyb3I6ICcnIH0pXG5cbiAgICBjb25zdCBlbWFpbCA9IHVzZXJEYXRhLmVtYWlsXG4gICAgY29uc3QgcGFzc3dvcmQgPSB1c2VyRGF0YS5wYXNzd29yZFxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNpZ25pbihlbWFpbCwgcGFzc3dvcmQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgICBzZXRVc2VyRGF0YSh7IC4uLnVzZXJEYXRhLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9naW5cIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJlbWFpbFwiPkVtYWlsPC9sYWJlbD5cblxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgaWQ9XCJlbWFpbFwiXG4gICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgdmFsdWU9e3VzZXJEYXRhLmVtYWlsfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT5cbiAgICAgICAgICAgICAgc2V0VXNlckRhdGEoXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdXNlckRhdGEsIHsgZW1haWw6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicGFzc3dvcmRcIj5QYXNzd29yZDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgaWQ9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgdmFsdWU9e3VzZXJEYXRhLnBhc3N3b3JkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT5cbiAgICAgICAgICAgICAgc2V0VXNlckRhdGEoXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdXNlckRhdGEsIHsgcGFzc3dvcmQ6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPkxvZ2luPC9idXR0b24+XG5cbiAgICAgICAgICB7dXNlckRhdGEuZXJyb3IgJiYgPHAgY2xhc3NOYW1lPVwiZXJyb3JcIj5FcnJvcjoge3VzZXJEYXRhLmVycm9yfTwvcD59XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAubG9naW4ge1xuICAgICAgICAgIG1heC13aWR0aDogMzQwcHg7XG4gICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm0ge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICBsYWJlbCB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0IHtcbiAgICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICAgICAgbWFyZ2luOiAwLjNyZW0gMCAxcmVtO1xuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICBtYXJnaW46IDAuNXJlbSAwIDA7XG4gICAgICAgICAgY29sb3I6IGJyb3duO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9MYXlvdXQ+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW5cbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Mdp79\\\\\\\\Desktop\\\\\\\\projects\\\\\\\\giphtionary\\\\\\\\pages\\\\\\\\login.js */\"));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Mdp79/Desktop/projects/giphtionary/pages/login.js"],"names":["useState","Router","Layout","signin","email","password","response","fetch","method","headers","body","JSON","stringify","status","Error","text","push","Login","userData","setUserData","error","handleSubmit","event","preventDefault","console","message","Object","assign","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport Router from 'next/router'\nimport Layout from '../components/layout'\n\nconst signin = async (email, password) => {\n  const response = await fetch('/api/login', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password }),\n  })\n\n  if (response.status !== 200) {\n    throw new Error(await response.text())\n  }\n\n  Router.push('/profile')\n}\n\nfunction Login() {\n  const [userData, setUserData] = useState({\n    email: '',\n    password: '',\n    error: '',\n  })\n\n  async function handleSubmit(event) {\n    event.preventDefault()\n    setUserData({ ...userData, error: '' })\n\n    const email = userData.email\n    const password = userData.password\n\n    try {\n      await signin(email, password)\n    } catch (error) {\n      console.error(error)\n      setUserData({ ...userData, error: error.message })\n    }\n  }\n\n  return (\n    <Layout>\n      <div className=\"login\">\n        <form onSubmit={handleSubmit}>\n          <label htmlFor=\"email\">Email</label>\n\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            value={userData.email}\n            onChange={(event) =>\n              setUserData(\n                Object.assign({}, userData, { email: event.target.value })\n              )\n            }\n          />\n\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={userData.password}\n            onChange={(event) =>\n              setUserData(\n                Object.assign({}, userData, { password: event.target.value })\n              )\n            }\n          />\n\n          <button type=\"submit\">Login</button>\n\n          {userData.error && <p className=\"error\">Error: {userData.error}</p>}\n        </form>\n      </div>\n      <style jsx>{`\n        .login {\n          max-width: 340px;\n          margin: 0 auto;\n          padding: 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n\n        form {\n          display: flex;\n          flex-flow: column;\n        }\n\n        label {\n          font-weight: 600;\n        }\n\n        input {\n          padding: 8px;\n          margin: 0.3rem 0 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n\n        .error {\n          margin: 0.5rem 0 0;\n          color: brown;\n        }\n      `}</style>\n    </Layout>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}